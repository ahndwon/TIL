Ch9_Struct&Class

# Ch9_Struct&Class

## 구조체

struct 키워드

카멜케이스 사용

```swift
struct 구조체 이름 {
    프로퍼티와 메서드들
}


struct BasicInformation {
    var name: String
    var age: Int
}
```

### 구조체 인스턴스의 생성 및 초기화
인스턴스 생성 및 초기화는 기본적으로 생성되는 멤버와이즈 이니셜라이저 사용

- 구조체에 기본 생성된 이니셜라이저의 매개변수는 구조체의 프로퍼티의 이름으로 자동 지정됨.

let으로 선언된 프로퍼티는 값 변경 불가능
var로 선언된 프로퍼티는 값 변경 가능


## 클래스

class 라는 키워드 사용

```swift
class 클래스 이름 : 부모클래스 이름 {
    프로퍼티와 메서드들
}

class Person {
    var height: FLoat = 0.0
    var weight: Float = 0.0
}

```


**인스턴스**
다른 언어에서는 클래스의 인스턴스를 객체라고 하지만 스위프트에서는 좀 더 한정적인 **인스턴스**라는 용어 사용



### 클래스 인스턴스의 소멸
인스턴스는 참조 타입이므로 더 이상 참조할 필요가 없을 때 메모리에서 해제됨.
-> **소멸**

- 소멸 되기 직전에 deinit 라는 메서드가 호출됨 

**deinit**
- 디이니셜라이저, 클래스당 하나만 구현 가능
- 매개변수와 반환 값 가질 수 없음
- 매개변수를 위한 소괄호도 적어주지 않음
- 보통 인스턴스가 메모리에서 해제되기 직전에 처리할 코드를 넣어줌
- ex) 데이터 저장, 다른 객체에 인스턴스 소멸 알림

```swift
class Person {
    var height: Float = 0.0
    var weight: Float = 0.0
    
    deinit {
        print("Person 클래스의 인스턴스가 소멸됩니다.")
    }
}

var yagom: Person? = Person()
yagom = nil     // Person 클래스의 인스턴스가 소멸됨
```


## 구조체와 클래스의 차이
### 같은 점
- 값을 저장하기 위해 프로퍼티를 정의 할 수 있음
- 기능 실행을 위해 메서드를 정의 할 수 있음
- 서브스크립트 문법을 통해 구조체 또는 클래스가 갖는 값(프로퍼티)에 접근하도록 서브스크립트를 정의할 수 있음
- 초기화 상태 지정하기 위한 이니셜라이저 정의 가능
- 초기구현과 더불어 새로운 기능 추가를 위해 익스텐션을 통해 확장 가능
- 특정 기능을 실행하기 위해 특정 프로토콜을 준수 할 수 있음

### 다른 점
- 구조체는 상속 불가
- 타입 캐스팅은 클래스의 인스턴스에만 허용됨
- 디이니셜라이저는 클래스의 인스턴스에만 활용 가능
- 참조 횟수 계산(Reference Counting)은 클래스의 인스턴스에만 적용됨


###값 타입과 참조 타입
- 구조체
    - 값 타입
- 클래스
    - 참조 타입
    
    
    값 타입과 참조 타입의 가장 큰 차이 -> 무엇이 전달되느냐
    
    **값 타입** -> 전달될 값이 **복사**되어 전달됨
    
    **참조 타입** -> **참조(주소)** 가 전달됨
    
    

인스턴사가 참조가 같은지 확인
**식별 연산자(===, !==)** 사용


### 스위프트의 기본 데이터 타입은 모두 구조체
```swift
public struct String {
    /// An empty 'String'
    public init()
}
```

스위프트의 기본 타입들은 모두 구조체로 구현됨 -> 모두 값 타입
전달인자를 통해 데이터를 전달하면 모두 값이 복사되어 전달됨



### 구조체 사용 조건
**애플의 가이드 라인**
[Swift Programming Language Guide](https://goo.gl/6HYxfT)

다음 조건 중 하나 이상에 해당하면 구조체 사용 권장

- 연관된 간단한 값의 집합을 캡슐화하는 것만이 목적일 때
- 캡슐화환 값을 참조하는 것보다 복사하는 것이 합당할 때
- 구조체에 저장된 프로퍼티가 값 타입이며 참조하는 것보다 복사하는 것이 합당할 때
- 다른 타입으로부터 상속받거나 자신을 상속할 필요가 없을 때


구조체로 사용하기 적합한 예
ex) - x, y 좌표




